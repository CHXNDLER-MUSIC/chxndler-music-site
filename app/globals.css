@tailwind base;
@tailwind components;
@tailwind utilities;

/* Local fonts (place files in /public/fonts) */
/* Inter — optional local files; will fallback to system if missing */
@font-face {
  font-family: 'InterLocal';
  src:
    local('Inter'),
    url('/fonts/inter/Inter-Regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'InterLocal';
  src:
    local('Inter Bold'),
    local('Inter-Bold'),
    url('/fonts/inter/Inter-Bold.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'InterLocal';
  src:
    local('Inter ExtraBold'),
    local('Inter-ExtraBold'),
    url('/fonts/inter/Inter-ExtraBold.woff2') format('woff2');
  font-weight: 800;
  font-style: normal;
  font-display: swap;
}
/* Orbitron — optional local files for accent headings */
@font-face { font-family: 'OrbitronLocal'; src: url('/fonts/orbitron-400.woff2') format('woff2'); font-weight: 400; font-style: normal; font-display: swap; }
@font-face { font-family: 'OrbitronLocal'; src: url('/fonts/orbitron-600.woff2') format('woff2'); font-weight: 600; font-style: normal; font-display: swap; }
@font-face { font-family: 'OrbitronLocal'; src: url('/fonts/orbitron-700.woff2') format('woff2'); font-weight: 700; font-style: normal; font-display: swap; }
:root { --font-orbitron: OrbitronLocal; }
html, body { height: 100%; background:#000; color:#fff; }
* { -webkit-tap-highlight-color: transparent; }
.font-sans { font-family: InterLocal, OrbitronLocal, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }

/* Cockpit background (frame stays fixed; sky video shows “through” windshield) */
.cockpit-bg{
  background-image: url("/cockpit/cockpit.png");
  background-size: cover;
  background-position: center;
}

/* Glow + pulse tokens */
.glow { box-shadow: 0 0 12px rgba(255,255,255,.55), inset 0 0 6px rgba(255,255,255,.35); }
.cockpit-glow { box-shadow: 0 0 24px rgba(255,255,255,.55), inset 0 0 12px rgba(255,255,255,.25); }
.pulse-soft { animation: pulse-soft 2.4s ease-in-out infinite; }
@keyframes pulse-soft { 0%,100%{opacity:.9;filter:brightness(1)} 50%{opacity:1;filter:brightness(1.12)} }

/* Windshield mask disabled: render full sky */

/* Shared HUD tokens */
.hud-card{ @apply rounded-2xl bg-black/35 backdrop-blur-md p-3 glow; }
.hud-btn{ @apply rounded-xl px-3 py-2 bg-black/35 backdrop-blur-md glow hover:scale-[1.04] transition uppercase tracking-wide text-[0.8rem]; }
.hud-chip{ @apply rounded-lg px-2 py-1 bg-white/10 text-xs; }

/* Center console HUD shape: tuned radii and subtle rim to match cutout */
.console-hud{
  position: relative;
  /* Clean rectangular shell; HUD glass overlay provides the decorative cuts */
  border-radius: 20px;
  border: 1px solid rgba(255,255,255,.18);
  box-shadow:
    0 18px 34px rgba(0,0,0,.55),             /* drop to seat into console */
    inset 0 1px 0 rgba(255,255,255,.18),     /* top bevel */
    inset 0 -10px 24px rgba(0,0,0,.65);      /* inner shade */
  /* Contain inner visuals so they don’t spill past frame */
  overflow: hidden;
}

/* Desktop: slightly deeper right-side concave and wider top taper */
@media (min-width: 1024px) {
  .console-hud{
    /* No special clipping on desktop; HUDPanel handles beveled frame */
  }
}

/* Small screens: reduce scoops so content isn’t clipped */
@media (max-width: 640px) {
  .console-hud{
    /* Keep it simple on small screens too */
  }
}
.console-hud:before{ /* glossy top highlight to match console reflections */
  content:""; position:absolute; left:10%; right:10%; top:6%; height:22%; border-radius:9999px;
  background: linear-gradient(180deg, rgba(255,255,255,.5), rgba(255,255,255,0));
  filter: blur(1px); opacity:.7; pointer-events:none;
}

/* Channel dial */
.dial{
  width: 64px; height: 64px; border-radius: 9999px;
  background: radial-gradient(50% 50% at 50% 50%, #222 0%, #111 60%, #0a0a0a 100%);
  box-shadow: inset 0 12px 22px rgba(255,255,255,.06), inset 0 -10px 18px rgba(0,0,0,.7), 0 0 14px rgba(255,255,255,.15);
  position: relative; cursor: grab;
}
.dial:active { cursor: grabbing; }
.dial-pointer{ position:absolute; left:50%; top:8px; width:4px; height:16px; border-radius:2px; background:#fff; transform-origin:50% 24px; }

/* Warp flash on sky change */
.warp-flash{
  position: fixed; inset: 0; pointer-events: none;
  /* Multi-layer neon burst */
  background:
    radial-gradient(circle at center, rgba(255,255,255,.98), rgba(255,255,255,.55) 22%, rgba(255,255,255,0) 60%),
    radial-gradient(circle at center, rgba(252,84,175,.35), rgba(252,84,175,0) 68%),
    radial-gradient(circle at center, rgba(56,182,255,.32), rgba(56,182,255,0) 70%),
    radial-gradient(circle at center, rgba(242,239,29,.25), rgba(242,239,29,0) 74%);
  animation: warp 800ms ease-out;
}
@keyframes warp {
  0%   { opacity: 0; transform: scale(0.8); filter: blur(2px) saturate(1) brightness(1); }
  25%  { opacity: 1; transform: scale(1.0); filter: blur(0)   saturate(1.1) brightness(1.05); }
  100% { opacity: 0; transform: scale(1.9); filter: blur(10px) saturate(1.25) brightness(1.1); }
}

/* --- Glow + pulse --- */
.glow { box-shadow: 0 0 12px currentColor, inset 0 0 6px currentColor; }
.cockpit-glow { box-shadow: 0 0 18px currentColor, inset 0 0 8px currentColor; }
.pulse-soft { animation: pulse-soft 2.4s ease-in-out infinite; }
@keyframes pulse-soft { 0%,100% { opacity:.9; filter:brightness(1);} 50% { opacity:1; filter:brightness(1.12);} }

/* --- Windshield fallback (oval) until you have PNG mask --- */
.windshield-clip { clip-path: ellipse(65% 45% at 50% 52%); }

/* Turn on while aligning slots */
.debug-slot { outline: 1px dashed rgba(255,255,255,.35); }

/* Mask CSS removed; keeping optional clip class commented for reference */
/* .windshield-clip { clip-path: ellipse(65% 45% at 50% 52%); } */
