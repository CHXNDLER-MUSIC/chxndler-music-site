@tailwind base;
@tailwind components;
@tailwind utilities;

:root { --font-orbitron: system-ui; }
html, body { height: 100%; background:#000; color:#fff; }
* { -webkit-tap-highlight-color: transparent; }
.font-sans { font-family: var(--font-orbitron), system-ui, -apple-system, Segoe UI, Roboto, Inter, Helvetica, Arial, sans-serif; }

/* Cockpit background (frame stays fixed; sky video shows “through” windshield) */
.cockpit-bg{
  background-image: url("/cockpit/cockpit.jpg");
  background-size: cover;
  background-position: center;
}

/* Glow + pulse tokens */
.glow { box-shadow: 0 0 12px rgba(255,255,255,.55), inset 0 0 6px rgba(255,255,255,.35); }
.cockpit-glow { box-shadow: 0 0 24px rgba(255,255,255,.55), inset 0 0 12px rgba(255,255,255,.25); }
.pulse-soft { animation: pulse-soft 2.4s ease-in-out infinite; }
@keyframes pulse-soft { 0%,100%{opacity:.9;filter:brightness(1)} 50%{opacity:1;filter:brightness(1.12)} }

/* Windshield: prefer PNG mask if present; fallback to oval clip-path */
.windshield-mask{
  -webkit-mask-image: url("/cockpit/windshield-mask.png");
  mask-image: url("/cockpit/windshield-mask.png");
  -webkit-mask-repeat: no-repeat; mask-repeat: no-repeat;
  -webkit-mask-size: contain;     mask-size: contain;
  -webkit-mask-position: center;  mask-position: center;
}
.windshield-clip { clip-path: ellipse(65% 45% at 50% 52%); }

/* Shared HUD tokens */
.hud-card{ @apply rounded-2xl bg-black/35 backdrop-blur-md p-3 glow; }
.hud-btn{ @apply rounded-xl px-3 py-2 bg-black/35 backdrop-blur-md glow hover:scale-[1.04] transition uppercase tracking-wide text-[0.8rem]; }
.hud-chip{ @apply rounded-lg px-2 py-1 bg-white/10 text-xs; }

/* Channel dial */
.dial{
  width: 64px; height: 64px; border-radius: 9999px;
  background: radial-gradient(50% 50% at 50% 50%, #222 0%, #111 60%, #0a0a0a 100%);
  box-shadow: inset 0 12px 22px rgba(255,255,255,.06), inset 0 -10px 18px rgba(0,0,0,.7), 0 0 14px rgba(255,255,255,.15);
  position: relative; cursor: grab;
}
.dial:active { cursor: grabbing; }
.dial-pointer{ position:absolute; left:50%; top:8px; width:4px; height:16px; border-radius:2px; background:#fff; transform-origin:50% 24px; }

/* Warp flash on sky change */
.warp-flash{
  position: fixed; inset: 0; z-index: 20; pointer-events: none;
  background: radial-gradient(circle at center, rgba(255,255,255,.95), rgba(255,255,255,0) 55%);
  animation: warp 520ms ease-out;
}
@keyframes warp {
  0%   { opacity: 0; transform: scale(0.9); filter: blur(2px); }
  30%  { opacity: 1; transform: scale(1);   filter: blur(0); }
  100% { opacity: 0; transform: scale(1.4); filter: blur(6px); }
}

/* --- Glow + pulse --- */
.glow { box-shadow: 0 0 12px currentColor, inset 0 0 6px currentColor; }
.cockpit-glow { box-shadow: 0 0 18px currentColor, inset 0 0 8px currentColor; }
.pulse-soft { animation: pulse-soft 2.4s ease-in-out infinite; }
@keyframes pulse-soft { 0%,100% { opacity:.9; filter:brightness(1);} 50% { opacity:1; filter:brightness(1.12);} }

/* --- Windshield fallback (oval) until you have PNG mask --- */
.windshield-clip { clip-path: ellipse(65% 45% at 50% 52%); }

/* Turn on while aligning slots */
.debug-slot { outline: 1px dashed rgba(255,255,255,.35); }

